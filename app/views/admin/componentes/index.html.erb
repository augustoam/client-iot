<% breadcrumb :componentes, @ambiente %>
<div class="row">
  <h3><%= plural_model_name_for(Componente) %> <%= singular_model_name_for(Ambiente) %></h3>
</div>

<div class="row">
  <%= search_form_for @q, url: admin_ambiente_componentes_path do |f| %>

    <div class="col s11">
      <%= f.search_field :topico_or_descricao_cont, class: "form-control", placeholder: "Pesquisar Componentes" %>
    </div>
    <div class="col s1">
      <button class="waves-effect waves-light btn grey lighten-4" type="submit">
        <i class="large material-icons black-text">search</i>
      </button>
    </div>

  <% end %>
</div>

<div class="row">
  <table class="table">
    <thead>
      <tr>
        <th><%= Componente.human_attribute_name(:id) %></th>
        <th><%= Componente.human_attribute_name(:descricao) %></th>
        <th><%= Componente.human_attribute_name(:topico) %></th>
        <th><%= Componente.human_attribute_name(:comando_unico) %></th>
        <th><%= Componente.human_attribute_name(:identificador) %></th>
        <th><%= Componente.human_attribute_name(:controle_componente) %></th>
        <th><%= Componente.human_attribute_name(:created_at) %></th>
        <th colspan="2"></th>
      </tr>
    </thead>

    <tbody>
      <% @componentes.each do |componente| %>
        <tr data-href="<%= admin_componente_path(componente) %>">
          <td><%= componente.id %></td>
          <td><%= componente.descricao %></td>
          <td><%= componente.topico %></td>
          <td><%= componente.comando_unico %></td>
          <td><%= componente.identificador %></td>
          <td><%= componente.controle_componente.descricao %></td>
          <td><%= ltime componente.created_at %></td>
          <td><%= link_icon_to_edit(edit_admin_componente_path(componente))%></td>
          <td><%= link_icon_to_destroy(admin_componente_path(componente)) %></td>
          <td><%= link_to 'Comandos', admin_componente_comandos_infra_vermelhos_path(componente), class: "waves-effect waves-light btn grey lighten-4 black-text" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>

<div class="row">
  <%= link_icon_to_back admin_grupo_ambientes_path(@ambiente.grupo) %>
  <%= link_icon_to_new(new_admin_ambiente_componente_path(@ambiente), action_new(@componentes)) %>
</div>

<div class="center-align">
  <%= will_paginate @Ambientes, renderer: MaterializePagination::Rails %>
</div>
